@model ProductViewModel

<!--=============== MAIN ===============-->

<!--=============== BREADCRUMB ===============-->
<section class="breadcrumb">
    <ul class="breadcrumb__list flex container">
        <li><a asp-action="Index"class="breadcrumb__link">Home</a></li>
        <li><span class="breadcrumb__link"></span>></li> 
        <li><span class="breadcrumb__link">Shop</span></li> 

        <li><span class="breadcrumb__link"></span>></li>
        <li><span class="breadcrumb__link"></span> @Model.CategoryName</li>
        <li><span class="breadcrumb__link"></span>></li>
        <li><span class="breadcrumb__link"></span> @Model.SubCategoryName</li>
    </ul>
</section>

<!--=============== DETAILS ===============-->
<section class="details section--lg">
    <div class="details__container container grid">
        <div class="details__group">
            @foreach(var item in Model.Images)
            {
                if(item.IsPrimary)
                {
                    <img src="~/image/@item.ImageUrl"
                    alt=""
                    class="details__img" />

                }
            }

            <div class="details__small-images grid">
                @foreach (var item in Model.Images)
                {
                    if (!item.IsPrimary)
                    {
                        <img src="~/image/@item.ImageUrl"
                        alt=""
                        class="details__small-img" />

                    }
                }


            </div>
        </div>
        <div class="details__group">
            <h3 class="details__title">@Model.Name</h3>
            <p class="details__brand">Brand: <span>@Model.Brand</span></p>
            <div class="details__price flex">
                <span class="new__price">$@(Model.Price - (Model.Price * Model.Discount / 10))e</span>
                <span class="old__price">$@Model.Price</span>
                <span class="save__price">@Model.Discount% Off</span>
            </div>
            <p class="short__description">
                @Model.Desc
            </p>
            <ul class="products__list">
                <li class="list__item flex">
                    <i class="fi-rs-crown"></i> 1 Year @Model.Brand Brand
                </li>
                <li class="list__item flex">
                    <i class="fi-rs-refresh"></i> 30 Days Return Policy
                </li>
                <li class="list__item flex">
                    <i class="fi-rs-credit-card"></i> Cash on Delivery available
                </li>
            </ul>
            <div class="details__action">
                <input type="number" class="quantity" value="3" />
                <a href="#" class="btn btn--sm">Add To Card</a>
                <a href="#" class="details__action-btn">
                    <i class="fi fi-rs-heart"></i>
                </a>
            </div>
            <ul class="details__meta">
                <li class="meta__list flex"><span>SKU:</span>@Model.Code</li>
                <li class="meta__list flex">
                    <span>Tags:</span>@Model.CategoryName , @Model.SubCategoryName, @Model.Tag
                </li>
                <li class="meta__list flex">
                    <span>Availability:</span>@Model.Stock Items in Stock
                </li>
            </ul>
        </div>
    </div>
</section>

<!--=============== DETAILS TAB ===============-->
<section class="details__tab container">
    <div class="detail__tabs">
        <span class="detail__tab" data-target="#reviews">Reviews(@Model.Reviews.Count())</span>
    </div>
    <div class="details__tabs-content">
        <div class="details__tab-content" content id="reviews">
            <div class="reviews__container grid">
                @foreach (var item in Model.Reviews)
                {
                    <div class="review__single">
                        <div>
                            <img src="~/image/avatar-1.jpg"
                            alt=""
                            class="review__img" />
                            <h4 class="review__title">@item.CustomerName</h4>
                        </div>
                        <div class="review__data">
                            <div class="review__rating">

                                @for (int i = 1; i <=5; i++)
                                {
                                    if (i < item.Rating)
                                    {
                                        <i class="fa fa-star checked"></i>
                                    }
                                    else
                                    {
                                        <i class="fa fa-star"></i>
                                    }
                                }
                            </div>
                            <p class="review__description">
                                @item.Comment
                            </p>
                            <span class="review__date">
                                @item?.ReviewDate?.ToString("MMMM dd, yyyy")  
                            </span>
                        </div>
                    </div>

                }  
                    </div>
                    
                </div>
            </div>
        </section>

        <!--=============== PRODUCTS ===============-->
        <section class="products container section--lg">
            <h3 class="section__title"><span>Related</span> Products</h3>
            <div class="products__container grid">
                <div class="product__item">
                    <div class="product__banner">
                        <a href="details.html" class="product__images">
                            <img src="assets/img/product-1-1.jpg"
                                 alt=""
                                 class="product__img default" />
                            <img src="assets/img/product-1-2.jpg"
                                 alt=""
                                 class="product__img hover" />
                        </a>
                        <div class="product__actions">
                            <a href="#" class="action__btn" aria-label="Quick View">
                                <i class="fi fi-rs-eye"></i>
                            </a>
                            <a href="#"
                               class="action__btn"
                               aria-label="Add to Wishlist">
                                <i class="fi fi-rs-heart"></i>
                            </a>
                            <a href="#" class="action__btn" aria-label="Compare">
                                <i class="fi fi-rs-shuffle"></i>
                            </a>
                        </div>
                        <div class="product__badge light-pink">Hot</div>
                    </div>
                    <div class="product__content">
                        <span class="product__category">Clothing</span>
                        <a href="details.html">
                            <h3 class="product__title">Colorful Pattern Shirts</h3>
                        </a>
                        <div class="product__rating">
                            <i class="fi fi-rs-star"></i>
                            <i class="fi fi-rs-star"></i>
                            <i class="fi fi-rs-star"></i>
                            <i class="fi fi-rs-star"></i>
                            <i class="fi fi-rs-star"></i>
                        </div>
                        <div class="product__price flex">
                            <span class="new__price">$238.85</span>
                            <span class="old__price">$245.8</span>
                        </div>
                        <a href="#"
                           class="action__btn cart__btn"
                           aria-label="Add To Cart">
                            <i class="fi fi-rs-shopping-bag-add"></i>
                        </a>
                    </div>
                </div>
                
            </div>
        </section>

